<!DOCTYPE html>
<html>
  <head>
    <title>Time and Focus</title>
    <link rel="icon" type="image/png" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Walter+Turncoat&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #f0efed;
      }

      .homemade-apple-regular {
        font-family: "Homemade Apple", cursive;
        font-weight: 400;
        font-style: normal;
        font-size: 30px;
      }

      .walter-turncoat-regular {
        font-family: "Walter Turncoat", cursive;
        font-weight: 400;
        font-style: normal;
      }

      .navbar .vr {
        height: 30px;
        border-left: 3px solid white;
        align-self: center;
        opacity: 1;
        margin-top: 10px;
      }

      .box {
        background-color: rgb(190, 189, 189);
        max-width: 80%;
        height: 700px;
        margin-top: 60px;
        border-radius: 100px;
      }

      .box0 {
        margin-top: 70px;
      }

      .add-task-button {
        margin-top: 40px;
        padding: 10px 20px;
        font-size: 1.7rem;
        background-color: #333;
        color: white;
        border-radius: 8px;
        cursor: pointer;
        font-family: "Walter Turncoat", cursive;
      }

      .add-task-button:hover {
        background-color: #555;
      }

      .position-relative {
        position: relative;
        max-width: 100%;
        width: 100%;
      }

      .box img {
        object-fit: contain;
        max-height: 100% !important;
        width: auto !important;
        margin: 0 auto;
        display: block;
      }

      .timer-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: clamp(40px, 15vw, 90px);
        color: black;
        white-space: nowrap;
        text-align: center;
        z-index: 2;
      }

      .button-row {
        position: absolute;
        bottom: 5%;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        justify-content: center;
        z-index: 3;
      }

      /* Responsive Design */
      @media (max-width: 992px) {
        #timer {
          font-size: min(20vw, 70px) !important;
        }

        .box {
          height: 500px;
          border-radius: 70px;
          margin-top: 50px;
        }

        .add-task-button {
          width: 70% !important;
          margin: 15px auto !important;
          font-size: 1.4rem !important;
        }
      }

      @media (max-width: 768px) {
        #timer {
          font-size: min(25vw, 70px) !important;
        }

        .box {
          height: 450px;
          border-radius: 60px;
          background-position: center;
        }

        .add-task-button {
          width: 80% !important;
          font-size: 1.3rem !important;
          padding: 12px 0 !important;
        }
      }

      @media (max-width: 576px) {
        #timer {
          font-size: min(30vw, 60px) !important;
        }

        .box {
          height: 500px;
          border-radius: 50px;
          margin-top: 30px;
        }

        .add-task-button {
          font-size: 1.2rem !important;
          margin: 12px auto !important;
          padding: 10px 0 !important;
        }
      }

      @media (max-width: 400px) {
        #timer {
          font-size: min(35vw, 50px) !important;
        }

        .box {
          height: 320px;
          border-radius: 40px;
        }

        .add-task-button {
          font-size: 1rem !important;
          padding: 8px 0 !important;
          width: 85% !important;
        }
      }
    </style>
  </head>

  <body>
    <nav
      class="navbar navbar-expand-lg"
      style="background-color: black !important; padding-bottom:20px; padding-top:20px;"
    >
      <div class="container-fluid">
        <a
          class="navbar-brand homemade-apple-regular mt-3"
          href="#"
          style="font-size: 50px; color: white"
          >Planistry</a
        >
        <button
          class="navbar-toggler"
          type="button"
          style="background-color: white"
          data-bs-toggle="collapse"
          data-bs-target="#navbarContent"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarContent"
        >
          <ul class="navbar-nav mb-2 mb-lg-0 mt-3">
            <li class="nav-item">
              <a
                class="nav-link walter-turncoat-regular"
                href="index.html"
                style="font-size: 25px; color: white"
                >Home</a
              >
            </li>
            <li class="nav-item d-none d-lg-block">
              <span class="vr mx-3"></span>
            </li>
            <li class="nav-item">
              <a
                class="nav-link walter-turncoat-regular"
                href="timetable.html"
                style="font-size: 25px; color: white"
                >TimeTable Generator</a
              >
            </li>
            <li class="nav-item d-none d-lg-block">
              <span class="vr mx-3"></span>
            </li>
            <li class="nav-item">
              <a
                class="nav-link walter-turncoat-regular"
                href="checker.html"
                style="font-size: 25px; color: white"
                >Task Checker</a
              >
            </li>
            <li class="nav-item d-none d-lg-block">
              <span class="vr mx-3"></span>
            </li>
            <li class="nav-item">
              <a
                class="nav-link walter-turncoat-regular"
                href="timer.html"
                style="font-size: 25px; color: white"
                >Time and Focus</a
              >
            </li>
            <li class="nav-item d-none d-lg-block">
              <span class="vr mx-3"></span>
            </li>
            <li class="nav-item">
              <a
                class="nav-link walter-turncoat-regular"
                href="about.html"
                style="font-size: 25px; color: white"
                >About</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Audio -->
    <audio id="alarmSound" src="alarm.mp3" preload="auto" playsinline></audio>

    <!-- Heading -->
    <div class="container walter-turncoat-regular box0">
      <p style="text-align: center; font-size: 50px;" class="mb-0">
        Pomodoro Timer
      </p>
    </div>

    <!-- Timer Box -->
    <div class="container walter-turncoat-regular box mt-0 d-flex justify-content-center">
      <div class="position-relative">
        <img src="ear.png" class="img-fluid" style="max-height: 600px; width: 100%; height: auto;" />

        <div id="timer" class="timer-overlay">25:00</div>

        <div class="button-row">
          <button class="add-task-button" onclick="startTimer()">Start/Continue</button>
          <button class="add-task-button" onclick="pauseTimer()">Pause</button>
          <button class="add-task-button" onclick="resetTimer()">Reset</button>
        </div>
      </div>
    </div>

    <!-- Timer Script -->
    <script>
      let timer;
      let timeLeft = 25 * 60;
      let isRunning = false;

      function updateDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById("timer").textContent =
          `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
      }

      function startTimer() {
        if (isRunning) return;
        isRunning = true;
        timer = setInterval(() => {
          if (timeLeft > 0) {
            timeLeft--;
            updateDisplay();
          } else {
            clearInterval(timer);
            const sound = document.getElementById("alarmSound");
            sound.currentTime = 0;
            sound.play().catch((err) => {
              console.warn("Safari blocked audio playback:", err);
            });
            isRunning = false;
          }
        }, 1000);
      }

      function pauseTimer() {
        clearInterval(timer);
        isRunning = false;
      }

      function resetTimer() {
        pauseTimer();
        timeLeft = 25 * 60;
        updateDisplay();
      }

      updateDisplay();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
